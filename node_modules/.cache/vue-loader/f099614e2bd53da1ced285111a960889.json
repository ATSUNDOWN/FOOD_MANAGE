{"remainingRequest":"F:\\food_manage_vue\\foodmanage\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!F:\\food_manage_vue\\foodmanage\\src\\views\\Person.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\food_manage_vue\\foodmanage\\src\\views\\Person.vue","mtime":1674385859709},{"path":"F:\\food_manage_vue\\foodmanage\\node_modules\\babel-loader\\lib\\index.js","mtime":1673079884066},{"path":"F:\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\food_manage_vue\\foodmanage\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":1673079884044}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgcmVxdWVzdCBmcm9tICJAL3V0aWxzL3JlcXVlc3QuanMiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiUGVyc29uIiwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZm9ybToge30sDQogICAgICBuaWNrTmFtZTogIiIsDQogICAgICB2YWx1ZTowLA0KICAgICAgYmFsYW5jZTowLA0KICAgICAgdXNlcm5hbWU6JycNCiAgICB9Ow0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIGxldCBzdHIgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ1c2VyIikgfHwgInt9IjsNCiAgICB0aGlzLmZvcm0gPSBKU09OLnBhcnNlKHN0cik7DQogICAgdGhpcy5zZXNzaW9uID0gSlNPTi5wYXJzZSh3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpKTsNCiAgICB0aGlzLm5pY2tOYW1lID0gdGhpcy5zZXNzaW9uLm5pY2tOYW1lOw0KICAgIHRoaXMudXNlcm5hbWUgPSB0aGlzLnNlc3Npb24udXNlcm5hbWU7DQogICAgY29uc29sZS5sb2codGhpcy5mb3JtKTsNCiAgICB0aGlzLmJhbGFuY2UgPSB0aGlzLmZvcm0uYmFsYW5jZTsNCiAgICBjb25zb2xlLmxvZyh0aGlzLmJhbGFuY2UpOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgdXBkYXRlKCkgew0KICAgICAgcmVxdWVzdC5wdXQoIi91c2VyIiwgdGhpcy5mb3JtKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgY29uc29sZS5sb2cocmVzKTsNCiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAiMCIpIHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwNCiAgICAgICAgICAgIG1lc3NhZ2U6ICLmm7TmlrDmiJDlip8iLA0KICAgICAgICAgIH0pOw0KICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oInVzZXIiLCBKU09OLnN0cmluZ2lmeSh0aGlzLmZvcm0pKTsNCiAgICAgICAgICAvLyDop6blj5FMYXlvdXTmm7TmlrDnlKjmiLfkv6Hmga8NCiAgICAgICAgICB0aGlzLiRlbWl0KCJ1c2VySW5mbyIpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgdHlwZTogImVycm9yIiwNCiAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tc2csDQogICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogIH0sDQp9Ow0KDQovLyAgIG5hbWU6ICJQZXJzb24iLA0KLy8gICBjb21wb25lbnRzOiB7fSwNCi8vICAgZGF0YSgpIHsNCi8vICAgICByZXR1cm4gew0KLy8gICAgICAgZm9ybToge30sDQovLyAgICAgICB1c2VybmFtZToiIiwNCi8vICAgICAgIG5pY2tOYW1lOiAiIiwNCi8vICAgICAgIHBhc3N3b3JkOiAiIiwNCi8vICAgICAgIHNleDogIiIsDQovLyAgICAgICBhZ2U6ICIiLA0KLy8gICAgICAgYWRkcmVzczogIiIsDQovLyAgICAgICBzZWFyY2g6ICIiLA0KLy8gICAgICAgdGFibGVEYXRhOltdLA0KLy8gICAgICAgZGlhbG9nVmlzaWJsZTpmYWxzZQ0KLy8gICAgIH07DQovLyAgIH0sDQovLyAgIGNyZWF0ZWQoKSB7DQovLyAgICAgdGhpcy5zZXNzaW9uID0gSlNPTi5wYXJzZSh3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpKTsNCi8vICAgICB0aGlzLnRhYmxlRGF0YSA9IHRoaXMuc2Vzc2lvbjsNCi8vICAgICB0aGlzLm5pY2tOYW1lID0gdGhpcy5zZXNzaW9uLm5pY2tOYW1lOw0KLy8gICAgIHRoaXMucGFzc3dvcmQgPSB0aGlzLnNlc3Npb24ucGFzc3dvcmQ7DQovLyAgICAgdGhpcy5zZXggPSB0aGlzLnNlc3Npb24uc2V4Ow0KLy8gICAgIHRoaXMuYWdlID0gdGhpcy5zZXNzaW9uLmFnZTsNCi8vICAgICB0aGlzLmFkZHJlc3MgPSB0aGlzLnNlc3Npb24uYWRkcmVzczsNCi8vICAgICB0aGlzLnVzZXJuYW1lID0gdGhpcy5zZXNzaW9uLnVzZXJuYW1lOw0KLy8gICAgIHRoaXMuaWQgPSB0aGlzLnNlc3Npb24uaWQ7DQovLyAgIH0sDQovLyAgIG1ldGhvZHM6IHsNCi8vICAgICB1cGRhdGVQZXJzb24oKXsNCi8vICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7DQovLyAgICAgICB0aGlzLmZvcm0gPSB7fTsNCi8vICAgICB9LA0KLy8gICAgIGhhbmRsZUNsb3NlKGRvbmUpIHsNCi8vICAgICAgIHRoaXMuJGNvbmZpcm0oIuehruiupOWFs+mXre+8nyIpDQovLyAgICAgICAgIC50aGVuKChfKSA9PiB7DQovLyAgICAgICAgICAgZG9uZSgpOw0KLy8gICAgICAgICB9KQ0KLy8gICAgICAgICAuY2F0Y2goKF8pID0+IHt9KTsNCi8vICAgICB9LA0KDQovLyAgICAgdXBkYXRlKCkgew0KLy8gICAgICAgcmVxdWVzdC5wdXQoIi91c2VyIiwgdGhpcy5mb3JtKS50aGVuKChyZXMpID0+IHsNCi8vICAgICAgICAgY29uc29sZS5sb2cocmVzKTsNCi8vICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAiMCIpIHsNCi8vICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCi8vICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwNCi8vICAgICAgICAgICAgIG1lc3NhZ2U6ICLmm7TmlrAiLA0KLy8gICAgICAgICAgIH0pOw0KLy8gICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oInVzZXIiLCBKU09OLnN0cmluZ2lmeSh0aGlzLmZvcm0pKTsNCi8vICAgICAgICAgICB0aGlzLiQkZW1pdCgidXNlciIpOw0KLy8gICAgICAgICB9IGVsc2Ugew0KLy8gICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KLy8gICAgICAgICAgICAgdHlwZTogImVycm9yIiwNCi8vICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tc2csDQovLyAgICAgICAgICAgfSk7DQovLyAgICAgICAgIH0NCi8vICAgICAgIH0pOw0KLy8gICAgIH0sDQovLyAgIH0sDQovLyB9Ow0K"},{"version":3,"sources":["Person.vue"],"names":[],"mappings":";AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Person.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <div>\r\n      <h1 style=\"text-align: center; margin-top: 30px\">个人信息</h1>\r\n      <el-card style=\"width: 40%; margin: 50px 30%\">\r\n        <el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\r\n          <el-form-item label=\"用户名\">\r\n            <el-input v-model=\"form.username\" disabled></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"昵称\">\r\n            <el-input v-model=\"form.nickName\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"年龄\">\r\n            <el-input v-model=\"form.age\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"性别\">\r\n            <el-input v-model=\"form.sex\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"地址\">\r\n            <el-input v-model=\"form.address\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"密码\">\r\n            <el-input v-model=\"form.password\" show-password></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n        <div style=\"text-align: center\">\r\n          <el-button type=\"primary\" @click=\"update\">保存</el-button>\r\n        </div>\r\n      </el-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request.js\";\r\nexport default {\r\n  name: \"Person\",\r\n  data() {\r\n    return {\r\n      form: {},\r\n      nickName: \"\",\r\n      value:0,\r\n      balance:0,\r\n      username:''\r\n    };\r\n  },\r\n  created() {\r\n    let str = sessionStorage.getItem(\"user\") || \"{}\";\r\n    this.form = JSON.parse(str);\r\n    this.session = JSON.parse(window.sessionStorage.getItem(\"user\"));\r\n    this.nickName = this.session.nickName;\r\n    this.username = this.session.username;\r\n    console.log(this.form);\r\n    this.balance = this.form.balance;\r\n    console.log(this.balance);\r\n  },\r\n  methods: {\r\n    update() {\r\n      request.put(\"/user\", this.form).then((res) => {\r\n        console.log(res);\r\n        if (res.code === \"0\") {\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"更新成功\",\r\n          });\r\n          sessionStorage.setItem(\"user\", JSON.stringify(this.form));\r\n          // 触发Layout更新用户信息\r\n          this.$emit(\"userInfo\");\r\n        } else {\r\n          this.$message({\r\n            type: \"error\",\r\n            message: res.msg,\r\n          });\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n\r\n//   name: \"Person\",\r\n//   components: {},\r\n//   data() {\r\n//     return {\r\n//       form: {},\r\n//       username:\"\",\r\n//       nickName: \"\",\r\n//       password: \"\",\r\n//       sex: \"\",\r\n//       age: \"\",\r\n//       address: \"\",\r\n//       search: \"\",\r\n//       tableData:[],\r\n//       dialogVisible:false\r\n//     };\r\n//   },\r\n//   created() {\r\n//     this.session = JSON.parse(window.sessionStorage.getItem(\"user\"));\r\n//     this.tableData = this.session;\r\n//     this.nickName = this.session.nickName;\r\n//     this.password = this.session.password;\r\n//     this.sex = this.session.sex;\r\n//     this.age = this.session.age;\r\n//     this.address = this.session.address;\r\n//     this.username = this.session.username;\r\n//     this.id = this.session.id;\r\n//   },\r\n//   methods: {\r\n//     updatePerson(){\r\n//       this.dialogVisible = true;\r\n//       this.form = {};\r\n//     },\r\n//     handleClose(done) {\r\n//       this.$confirm(\"确认关闭？\")\r\n//         .then((_) => {\r\n//           done();\r\n//         })\r\n//         .catch((_) => {});\r\n//     },\r\n\r\n//     update() {\r\n//       request.put(\"/user\", this.form).then((res) => {\r\n//         console.log(res);\r\n//         if (res.code === \"0\") {\r\n//           this.$message({\r\n//             type: \"success\",\r\n//             message: \"更新\",\r\n//           });\r\n//           sessionStorage.setItem(\"user\", JSON.stringify(this.form));\r\n//           this.$$emit(\"user\");\r\n//         } else {\r\n//           this.$message({\r\n//             type: \"error\",\r\n//             message: res.msg,\r\n//           });\r\n//         }\r\n//       });\r\n//     },\r\n//   },\r\n// };\r\n</script>\r\n\r\n<style>\r\n</style>\r\n"]}]}