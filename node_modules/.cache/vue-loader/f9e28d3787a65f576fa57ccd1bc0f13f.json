{"remainingRequest":"F:\\food_manage_vue\\foodmanage\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!F:\\food_manage_vue\\foodmanage\\src\\views\\Person.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\food_manage_vue\\foodmanage\\src\\views\\Person.vue","mtime":1673668797833},{"path":"F:\\food_manage_vue\\foodmanage\\node_modules\\babel-loader\\lib\\index.js","mtime":1673079884066},{"path":"F:\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\food_manage_vue\\foodmanage\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":1673079884044}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgcmVxdWVzdCBmcm9tICJAL3V0aWxzL3JlcXVlc3QuanMiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiUGVyc29uIiwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZm9ybToge30sDQogICAgICBuaWNrTmFtZTonJw0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICBsZXQgc3RyID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpIHx8ICJ7fSINCiAgICB0aGlzLmZvcm0gPSBKU09OLnBhcnNlKHN0cikNCiAgICB0aGlzLnNlc3Npb24gPSBKU09OLnBhcnNlKHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ1c2VyIikpOw0KICAgIHRoaXMubmlja05hbWUgPSB0aGlzLnNlc3Npb24ubmlja05hbWU7DQogICAgDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICB1cGRhdGUoKSB7DQogICAgICByZXF1ZXN0LnB1dCgiL3VzZXIiLCB0aGlzLmZvcm0pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgY29uc29sZS5sb2cocmVzKQ0KICAgICAgICBpZiAocmVzLmNvZGUgPT09ICcwJykgew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLA0KICAgICAgICAgICAgbWVzc2FnZTogIuabtOaWsOaIkOWKnyINCiAgICAgICAgICB9KQ0KICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oInVzZXIiLCBKU09OLnN0cmluZ2lmeSh0aGlzLmZvcm0pKQ0KICAgICAgICAgIC8vIOinpuWPkUxheW91dOabtOaWsOeUqOaIt+S/oeaBrw0KICAgICAgICAgIHRoaXMuJGVtaXQoInVzZXJJbmZvIikNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsDQogICAgICAgICAgICBtZXNzYWdlOiByZXMubXNnDQogICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9DQogIH0NCn0NCg0KLy8gICBuYW1lOiAiUGVyc29uIiwNCi8vICAgY29tcG9uZW50czoge30sDQovLyAgIGRhdGEoKSB7DQovLyAgICAgcmV0dXJuIHsNCi8vICAgICAgIGZvcm06IHt9LA0KLy8gICAgICAgdXNlcm5hbWU6IiIsDQovLyAgICAgICBuaWNrTmFtZTogIiIsDQovLyAgICAgICBwYXNzd29yZDogIiIsDQovLyAgICAgICBzZXg6ICIiLA0KLy8gICAgICAgYWdlOiAiIiwNCi8vICAgICAgIGFkZHJlc3M6ICIiLA0KLy8gICAgICAgc2VhcmNoOiAiIiwNCi8vICAgICAgIHRhYmxlRGF0YTpbXSwNCi8vICAgICAgIGRpYWxvZ1Zpc2libGU6ZmFsc2UNCi8vICAgICB9Ow0KLy8gICB9LA0KLy8gICBjcmVhdGVkKCkgew0KLy8gICAgIHRoaXMuc2Vzc2lvbiA9IEpTT04ucGFyc2Uod2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVzZXIiKSk7DQovLyAgICAgdGhpcy50YWJsZURhdGEgPSB0aGlzLnNlc3Npb247DQovLyAgICAgdGhpcy5uaWNrTmFtZSA9IHRoaXMuc2Vzc2lvbi5uaWNrTmFtZTsNCi8vICAgICB0aGlzLnBhc3N3b3JkID0gdGhpcy5zZXNzaW9uLnBhc3N3b3JkOw0KLy8gICAgIHRoaXMuc2V4ID0gdGhpcy5zZXNzaW9uLnNleDsNCi8vICAgICB0aGlzLmFnZSA9IHRoaXMuc2Vzc2lvbi5hZ2U7DQovLyAgICAgdGhpcy5hZGRyZXNzID0gdGhpcy5zZXNzaW9uLmFkZHJlc3M7DQovLyAgICAgdGhpcy51c2VybmFtZSA9IHRoaXMuc2Vzc2lvbi51c2VybmFtZTsNCi8vICAgICB0aGlzLmlkID0gdGhpcy5zZXNzaW9uLmlkOw0KLy8gICB9LA0KLy8gICBtZXRob2RzOiB7DQovLyAgICAgdXBkYXRlUGVyc29uKCl7DQovLyAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOw0KLy8gICAgICAgdGhpcy5mb3JtID0ge307DQovLyAgICAgfSwNCi8vICAgICBoYW5kbGVDbG9zZShkb25lKSB7DQovLyAgICAgICB0aGlzLiRjb25maXJtKCLnoa7orqTlhbPpl63vvJ8iKQ0KLy8gICAgICAgICAudGhlbigoXykgPT4gew0KLy8gICAgICAgICAgIGRvbmUoKTsNCi8vICAgICAgICAgfSkNCi8vICAgICAgICAgLmNhdGNoKChfKSA9PiB7fSk7DQovLyAgICAgfSwNCiAgICANCi8vICAgICB1cGRhdGUoKSB7DQovLyAgICAgICByZXF1ZXN0LnB1dCgiL3VzZXIiLCB0aGlzLmZvcm0pLnRoZW4oKHJlcykgPT4gew0KLy8gICAgICAgICBjb25zb2xlLmxvZyhyZXMpOw0KLy8gICAgICAgICBpZiAocmVzLmNvZGUgPT09ICIwIikgew0KLy8gICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KLy8gICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLA0KLy8gICAgICAgICAgICAgbWVzc2FnZTogIuabtOaWsCIsDQovLyAgICAgICAgICAgfSk7DQovLyAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgidXNlciIsIEpTT04uc3RyaW5naWZ5KHRoaXMuZm9ybSkpOw0KLy8gICAgICAgICAgIHRoaXMuJCRlbWl0KCJ1c2VyIik7DQovLyAgICAgICAgIH0gZWxzZSB7DQovLyAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQovLyAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLA0KLy8gICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1zZywNCi8vICAgICAgICAgICB9KTsNCi8vICAgICAgICAgfQ0KLy8gICAgICAgfSk7DQovLyAgICAgfSwNCi8vICAgfSwNCi8vIH07DQo="},{"version":3,"sources":["Person.vue"],"names":[],"mappings":";AAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Person.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <div>\r\n      <h1 style=\"text-align:center;margin-top:30px\">个人信息</h1>\r\n    <el-card style=\"width: 40%; margin: 50px 30%;\">\r\n      <el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\r\n        <el-form-item label=\"用户名\">\r\n          <el-input v-model=\"form.username\" disabled></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"昵称\">\r\n          <el-input v-model=\"form.nickName\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"年龄\">\r\n          <el-input v-model=\"form.age\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"性别\">\r\n          <el-input v-model=\"form.sex\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"地址\">\r\n          <el-input v-model=\"form.address\"></el-input>\r\n        </el-form-item>\r\n       <el-form-item label=\"密码\">\r\n          <el-input v-model=\"form.password\" show-password></el-input>\r\n      </el-form-item>\r\n      </el-form>\r\n      <div style=\"text-align: center\">\r\n        <el-button type=\"primary\" @click=\"update\">保存</el-button>\r\n      </div>\r\n    </el-card>\r\n\r\n  </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request.js\";\r\nexport default {\r\n  name: \"Person\",\r\n  data() {\r\n    return {\r\n      form: {},\r\n      nickName:''\r\n    }\r\n  },\r\n  created() {\r\n    let str = sessionStorage.getItem(\"user\") || \"{}\"\r\n    this.form = JSON.parse(str)\r\n    this.session = JSON.parse(window.sessionStorage.getItem(\"user\"));\r\n    this.nickName = this.session.nickName;\r\n    \r\n  },\r\n  methods: {\r\n    update() {\r\n      request.put(\"/user\", this.form).then(res => {\r\n        console.log(res)\r\n        if (res.code === '0') {\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"更新成功\"\r\n          })\r\n          sessionStorage.setItem(\"user\", JSON.stringify(this.form))\r\n          // 触发Layout更新用户信息\r\n          this.$emit(\"userInfo\")\r\n        } else {\r\n          this.$message({\r\n            type: \"error\",\r\n            message: res.msg\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\n//   name: \"Person\",\r\n//   components: {},\r\n//   data() {\r\n//     return {\r\n//       form: {},\r\n//       username:\"\",\r\n//       nickName: \"\",\r\n//       password: \"\",\r\n//       sex: \"\",\r\n//       age: \"\",\r\n//       address: \"\",\r\n//       search: \"\",\r\n//       tableData:[],\r\n//       dialogVisible:false\r\n//     };\r\n//   },\r\n//   created() {\r\n//     this.session = JSON.parse(window.sessionStorage.getItem(\"user\"));\r\n//     this.tableData = this.session;\r\n//     this.nickName = this.session.nickName;\r\n//     this.password = this.session.password;\r\n//     this.sex = this.session.sex;\r\n//     this.age = this.session.age;\r\n//     this.address = this.session.address;\r\n//     this.username = this.session.username;\r\n//     this.id = this.session.id;\r\n//   },\r\n//   methods: {\r\n//     updatePerson(){\r\n//       this.dialogVisible = true;\r\n//       this.form = {};\r\n//     },\r\n//     handleClose(done) {\r\n//       this.$confirm(\"确认关闭？\")\r\n//         .then((_) => {\r\n//           done();\r\n//         })\r\n//         .catch((_) => {});\r\n//     },\r\n    \r\n//     update() {\r\n//       request.put(\"/user\", this.form).then((res) => {\r\n//         console.log(res);\r\n//         if (res.code === \"0\") {\r\n//           this.$message({\r\n//             type: \"success\",\r\n//             message: \"更新\",\r\n//           });\r\n//           sessionStorage.setItem(\"user\", JSON.stringify(this.form));\r\n//           this.$$emit(\"user\");\r\n//         } else {\r\n//           this.$message({\r\n//             type: \"error\",\r\n//             message: res.msg,\r\n//           });\r\n//         }\r\n//       });\r\n//     },\r\n//   },\r\n// };\r\n</script>\r\n\r\n<style>\r\n</style>\r\n"]}]}