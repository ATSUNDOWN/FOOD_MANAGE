{"ast":null,"code":"import request from \"@/utils/request.js\";\nexport default {\n  name: \"Detail\",\n  data() {\n    return {\n      foodName: \"\",\n      session: \"\",\n      content: \"\",\n      foodPic: \"\",\n      pattern: \"\",\n      price: \"\",\n      username: \"\",\n      fid: \"\",\n      sessionUser: \"\",\n      fcount: \"\"\n    };\n  },\n  created() {\n    this.session = JSON.parse(window.sessionStorage.getItem(\"food\"));\n    this.foodName = this.session[0].foodName;\n    this.content = this.session[0].content;\n    this.foodPic = this.session[0].foodPic;\n    this.pattern = this.session[0].pattern;\n    this.price = this.session[0].price;\n    this.sessionUser = JSON.parse(window.sessionStorage.getItem(\"user\"));\n    this.username = this.sessionUser.username;\n    this.fid = this.session[0].fid;\n    // console.log(this.sessionCart);\n\n    // this.fcount = this.session[0].fcount;\n\n    // console.log(this.sessionUser.username);\n    // console.log(this.uid);\n    // console.log(this.fid);\n\n    // console.log(this.foodName);\n    // console.log(this.session[0].content);\n  },\n\n  methods: {\n    insertFoodIntoCart() {\n      request.get(\"/cart/insertFoodIntoCart\", {\n        params: {\n          uid: this.username,\n          fid: this.fid\n        }\n      }).then(res => {\n        console.log(res);\n        if (res.code === '0') {\n          this.$message({\n            type: \"success\",\n            message: \"添加商品成功\"\n          });\n        } else {\n          this.$message({\n            type: \"error\",\n            message: res.msg\n          });\n        }\n      });\n      // console.log(uid,fid);\n    }\n  }\n};","map":{"version":3,"mappings":"AAyCA;AACA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;;IAGA;IACA;IACA;;IAGA;IACA;EACA;;EACAC;IACAC;MACAC;QACAC;UACAC;UACAR;QACA;MACA;QACAS;QACA;UACA;YACAC;YACAC;UACA;QACA;UACA;YACAD;YACAC;UACA;QACA;MACA;MACA;IACA;EACA;AACA","names":["name","data","foodName","session","content","foodPic","pattern","price","username","fid","sessionUser","fcount","created","methods","insertFoodIntoCart","request","params","uid","console","type","message"],"sourceRoot":"src/views","sources":["Detail.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div\r\n      style=\"\r\n        width: 1000px;\r\n        height: 1000px;\r\n        margin: 20px 0 0 15%;\r\n        background: whitesmoke;\r\n      \"\r\n    >\r\n      <div>\r\n        <el-image\r\n          :src=\"foodPic\"\r\n          style=\"width: 500px; height: 460px; float: left; overflow: hidden\"\r\n        ></el-image>\r\n        <div>\r\n          <h1 style=\"text-align: center; padding-top: 20px\">{{ foodName }}</h1>\r\n          <h2 style=\"text-align: center; margin-top: 20px\">{{ pattern }}</h2>\r\n        </div>\r\n        <div\r\n          style=\"\r\n            background: white;\r\n            border-radius: 10px;\r\n            width: 950px;\r\n            margin-left: 25px;\r\n            padding: 5px 20px 20px 0;\r\n            height:600px\r\n          \"\r\n        >\r\n          <div v-html=\"content\" style=\"margin: 20px 0 0 550px\"></div>\r\n        </div>\r\n        <div style=\"width:500px;height:70px;background:white;border-radius:10px;margin:20px 0 0 200px\">\r\n            <div><span style=\"line-height:60px;color:#409eff;margin-left:100px;font-size:30px;\">¥{{price}}</span><el-button size=\"big\" style=\"margin-left:100px;\" type=\"primary\" @click=\"insertFoodIntoCart\">放入购物车</el-button></div>\r\n        </div>\r\n      </div>\r\n      <div></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request.js\";\r\nexport default {\r\n  name: \"Detail\",\r\n  data() {\r\n    return {\r\n      foodName: \"\",\r\n      session: \"\",\r\n      content: \"\",\r\n      foodPic: \"\",\r\n      pattern: \"\",\r\n      price:\"\",\r\n      username:\"\",\r\n      fid:\"\",\r\n      sessionUser:\"\",\r\n      fcount:\"\",\r\n    };\r\n  },\r\n  created() {\r\n    this.session = JSON.parse(window.sessionStorage.getItem(\"food\"));\r\n    this.foodName = this.session[0].foodName;\r\n    this.content = this.session[0].content;\r\n    this.foodPic = this.session[0].foodPic;\r\n    this.pattern = this.session[0].pattern;\r\n    this.price = this.session[0].price;\r\n    this.sessionUser = JSON.parse(window.sessionStorage.getItem(\"user\"));\r\n    this.username = this.sessionUser.username;\r\n    this.fid = this.session[0].fid;\r\n    // console.log(this.sessionCart);\r\n\r\n    // this.fcount = this.session[0].fcount;\r\n\r\n  \r\n    // console.log(this.sessionUser.username);\r\n// console.log(this.uid);\r\n// console.log(this.fid);\r\n\r\n\r\n    // console.log(this.foodName);\r\n    // console.log(this.session[0].content);\r\n  },\r\n  methods: {\r\n    insertFoodIntoCart(){\r\n      request.get(\"/cart/insertFoodIntoCart\",{\r\n        params:{\r\n          uid:this.username,\r\n          fid:this.fid,\r\n        }\r\n      }).then(res => {\r\n        console.log(res)\r\n        if (res.code === '0') {\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"添加商品成功\"\r\n          })\r\n        } else {\r\n          this.$message({\r\n            type: \"error\",\r\n            message: res.msg\r\n          })\r\n        }\r\n      })\r\n      // console.log(uid,fid);\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}