{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport request from \"@/utils/request.js\";\nexport default {\n  name: \"Favorites\",\n  data() {\n    return {\n      favoritesList: [],\n      session: '',\n      username: ''\n    };\n  },\n  created() {\n    this.session = JSON.parse(window.sessionStorage.getItem(\"user\"));\n    this.username = this.session.username;\n    this.load();\n  },\n  methods: {\n    load() {\n      request.get(\"/favorites/showFavorites\", {\n        params: {\n          username: this.username\n        }\n      }).then(res => {\n        this.favoritesList = res.data;\n        console.log(res);\n      });\n    },\n    toDetail(id) {\n      request.get(\"/food/getFoodInfoById\", {\n        params: {\n          id: id\n        }\n      }).then(res => {\n        // console.log(res.data.foodName);\n        // console.log(res.data);\n        sessionStorage.setItem(\"food\", JSON.stringify(res.data));\n        this.$router.push('/detail');\n        // this.oneFood = \n        // console.log(res.data.id);\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";AA6BA;AAEA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACA;IACA;EACA;EACAC;IACAC;MACAC;QACAC;UACAL;QACA;MACA;QACA;QACAM;MACA;IACA;IACAC;MACAH;QACAC;UACAG;QACA;MACA;QACA;QACA;QACAC;QACA;QACA;QACA;MACA;IACA;EAAA;AACA","names":["name","data","favoritesList","session","username","created","methods","load","request","params","console","toDetail","id","sessionStorage"],"sourceRoot":"src/views","sources":["Favorites.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div>\r\n        <h2\r\n          style=\"\r\n            margin: 15px 20px;\r\n            color: #409eff;\r\n            border-bottom: 5px solid gray;\r\n            padding-bottom: 8px;\r\n          \"\r\n        >\r\n          收藏夹\r\n        </h2>\r\n      </div>\r\n      <div style=\"display:flex;justify-content: space-around;\">\r\n        <div v-for=\"(item,index) in favoritesList\" :key=\"index\" style=\"background:whitesmoke;width:400px;height:300px\"  @click=\"toDetail(item.id)\">\r\n            <div ><el-image\r\n              :src=\"item.foodPic\"\r\n              style=\"height: 200px; width: 300px;margin-left:50px;margin-top:30px;border-radius:10px\"\r\n          \r\n            ></el-image></div>\r\n            <div><h2 style=\"color:#409eff;float:left;margin-left:150px;margin-right:100p\">{{item.foodName}}</h2><el-button>取消收藏</el-button></div>\r\n\r\n        </div>\r\n      </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request.js\";\r\n\r\nexport default {\r\n  name: \"Favorites\",\r\n  data(){\r\n    return{\r\n        favoritesList:[],\r\n        session:'',\r\n        username:''\r\n    }\r\n  },\r\n  created(){\r\n    this.session = JSON.parse(window.sessionStorage.getItem(\"user\"));\r\n    this.username = this.session.username;\r\n    this.load();\r\n  },\r\n  methods:{\r\n    load(){\r\n        request.get(\"/favorites/showFavorites\",{\r\n            params:{\r\n                username:this.username\r\n            }\r\n        }).then((res)=>{\r\n            this.favoritesList = res.data;\r\n            console.log(res);\r\n        })\r\n    },\r\n     toDetail(id){\r\n      request.get(\"/food/getFoodInfoById\",{\r\n        params:{\r\n          id:id\r\n        }\r\n      }).then((res) =>{\r\n        // console.log(res.data.foodName);\r\n        // console.log(res.data);\r\n        sessionStorage.setItem(\"food\", JSON.stringify(res.data));\r\n        this.$router.push('/detail')\r\n        // this.oneFood = \r\n        // console.log(res.data.id);\r\n      })\r\n  }}\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}